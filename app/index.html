<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Green&thinsp;&tilde;&thinsp;Wave</title>
	  <meta name="description" content="">
	  <meta name="HandheldFriendly" content="True">
	  <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <meta http-equiv="cleartype" content="on">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

		<link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Roboto:500,300&subset=latin'>
    <link rel="stylesheet" href="ui/normalize.css">
    <link rel="stylesheet" href="ui/main.css">

		<script src="cordova.js"></script>
    <script src="libs/jquery-2.1.0.min.js"></script>
		<script src="libs/easy-ble.js"></script>
		<script src="app.js"></script>

		<script>
			$(function () {

				// Fake app startup
				setTimeout(function () {
					setMessage('Starting up&hellip;');
				}, 0);

				// Fake initializing
				setTimeout(function () {
					$('body').addClass('initialized');
					setMessage('Locating device&hellip;');
				}, 1200);

				// Fake device connected
				setTimeout(function () {
					$('body').addClass('connected');
					$('#wavesim').appendTo('.main');
					setMessage();
				}, 5400);

				// Handle nav interaction
				$('.navbar-list-item a').on('click', function(event) {

					// Move a new view into main
					$('.main .view').appendTo('body');
					$($(this).attr('href')).appendTo('.main');

					// Set active state on menu item
					$('.navbar-list-item').removeClass('active');
					$(this).parent().addClass('active');
				});

			});

			// Handle messaging
			var setMessage = function(msg) {
				var $message = $('.message');
				var $messageText = $('.message-text', $message);

				// Kill message if no string
				if (!msg || msg === '') {
					$message.removeClass('active');
					$messageText.html('&nbsp;');
				}
				// Otherwise show message
				else {
					$message.addClass('active');
					$messageText.html(msg);
				}
			}

		</script>

	</head>

	<body ontouchstart="">

		<header class="titlebar">
			<h1 class="titlebar-heading brand">Green<span class="brand-wave">&thinsp;&tilde;&thinsp;</span>Wave</h1>
		</header>

		<main class="main">
			<div class="message">
				<span class="message-text"></span>
			</div>
		</main>

		<nav class="navbar">
			<ul class="navbar-list">
				<li class="navbar-list-item active"><a href="#wavesim">WaveSim</a></li>
				<li class="navbar-list-item"><a href="#command">Command</a></li>
			</ul>
		</nav>

		<div class="view" id="wavesim">WaveSim</div>
		<div class="view" id="command">Command</div>

	</body>

</html>
